<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="https://raw.githubusercontent.com/sojijr/valentine-website/main/public/images/favicon.png">
    <link rel="icon" href="./images/favicon.png" type="image/x-icon" />  
    <title>Happy Hug Day ğŸ¤—</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <canvas id="starfield"></canvas>
    
    <div id="canvasBlur"></div>
    
    <!-- Music Control -->
    <div id="musicControl">
      <button id="musicToggle">ğŸ”Š</button>
    </div>
    
    <!-- Audio element for background music -->
    <audio id="bgMusic" loop>
      <source src="https://cdn.pixabay.com/audio/2022/05/13/audio_1db50838c5.mp3" type="audio/mpeg">
    </audio>
    
    <div id="valentineContainer">
      <div id="promiseRing">ğŸ¤—</div>
      <div id="valentineQuestion">Can I give you a warm hug? ğŸ«‚</div>
      <div id="buttonContainer">
        <button class="answerButton" id="yesButton">Yes, Hug Me! ğŸ¤—ğŸ’•</button>
        <button class="answerButton" id="noButton">No hugs... ğŸ˜¢</button>
      </div>
      <img id="pleadingImage" src="" alt="Please say yes" />
    </div>

    <div id="thankYouContainer">
      <div id="promiseSymbol">
        <div class="infinity">ğŸ¤—</div>
        <div class="heart-overlay">ğŸ’•</div>
      </div>
      <div id="thankYouMessage">
        *The warmest hug for you, Mero Maya!* ğŸ¥¹ğŸ«‚<br>
        <span id="subMessage">You just filled my heart with so much warmth!</span>
      </div>
      <div id="promiseText">
        <p class="promise-line">In your arms, I find my home ğŸ ğŸ’•</p>
        <p class="promise-line">Your hugs heal every wound in my heart ğŸ’–</p>
        <p class="promise-line">No distance can keep me from hugging you ğŸŒğŸ¤—</p>
        <p class="promise-line">Forever wrapped in your love and warmth ğŸ«‚âœ¨</p>
      </div>
    </div>

    <!-- Budu Character at Bottom -->
    <div id="buduContainer">
      <img src="./images/bidu.png" alt="Budu" id="buduCharacter">
    </div>

    <script src="script.js"></script>
    
    <script>
      // Music control
      const music = document.getElementById("bgMusic");
      const musicToggle = document.getElementById("musicToggle");
      let isMusicPlaying = false;
      
      // Auto-play music (with user interaction)
      document.addEventListener('click', function initMusic() {
        if (!isMusicPlaying) {
          music.play().then(() => {
            isMusicPlaying = true;
            musicToggle.textContent = "ğŸ”Š";
          }).catch(e => console.log("Audio playback failed:", e));
        }
        document.removeEventListener('click', initMusic);
      }, { once: true });
      
      musicToggle.addEventListener("click", function(e) {
        e.stopPropagation();
        if (isMusicPlaying) {
          music.pause();
          musicToggle.textContent = "ğŸ”‡";
          isMusicPlaying = false;
        } else {
          music.play();
          musicToggle.textContent = "ğŸ”Š";
          isMusicPlaying = true;
        }
      });
      
      // Array of pleading images
      const images = [
        "https://media1.tenor.com/m/2BrMVhEIsgIAAAAC/mocha-bear-kiss-bear-kiss.gif",
        "https://media.tenor.com/LBEh1g_3QbUAAAAi/please-pretty-please.gif",
        "https://media.tenor.com/FZclYdjw3m4AAAAi/bubu-dudu-sseeyall.gif",
        "https://media1.tenor.com/m/9fscv__vkukAAAAC/dudu-bubu-dudu-bubu-love.gif",
        "https://media1.tenor.com/m/lV1EF4I83MkAAAAC/bubu-dudu-twitter.gif",
        "https://media.tenor.com/0XxZLMzjYV0AAAAi/dudu-crying-texting.gif",
        "https://media1.tenor.com/m/3OJLuggNiuUAAAAC/bubu-dudu-crying.gif",
        "https://media1.tenor.com/m/z0BGYS7UF0QAAAAC/tkthao219-bubududu.gif",
        "https://media1.tenor.com/m/mGVF72-UxjwAAAAC/tkthao219-bubududu.gif",
        "https://media1.tenor.com/m/s0ygwznGUsMAAAAC/tkthao219-bubududu.gif",
        "https://media.tenor.com/ubjtdkQTtGUAAAAi/crying-twitter.gif"
      ];
      
      let currentImageIndex = 0;
      
      // Yes button - shows thank you with promise animation
      document.getElementById("yesButton").addEventListener("click", function() {
        document.getElementById("noButton").disabled = true;
        
        // Hide the valentine container
        document.getElementById("valentineContainer").style.display = "none";
        
        // Show the thank you container with animations
        const thankYouContainer = document.getElementById("thankYouContainer");
        thankYouContainer.style.display = "block";
        
        // Trigger animations
        setTimeout(() => {
          document.querySelector(".infinity").classList.add("spinning");
          document.querySelector(".heart-overlay").classList.add("beating");
        }, 100);
      });

      // No button - makes Yes button bigger and shows pleading images
      document.getElementById("noButton").addEventListener("click", function() {
        var yesButton = document.getElementById("yesButton");
        var currentFontSize = parseInt(window.getComputedStyle(yesButton).fontSize);
        yesButton.style.fontSize = currentFontSize + 10 + "px";
        
        // Show pleading image
        const pleadingImage = document.getElementById("pleadingImage");
        pleadingImage.src = images[currentImageIndex];
        pleadingImage.style.display = "block";
        pleadingImage.classList.add("fadeIn");
        
        // Cycle through images
        currentImageIndex = (currentImageIndex + 1) % images.length;
        
        // Make the question more pleading
        var questions = [
          "Are you sure? Just one hug? ğŸ¥º",
          "Pretty please? I really need a hug ğŸ¥ºğŸ’•",
          "I'll be so sad without your hug... ğŸ˜­",
          "Just one tiny hug? ğŸ«‚",
          "My arms feel so empty... ğŸ’”ğŸ˜¢",
          "What did I do to not deserve a hug? ğŸ˜­",
          "Even strangers hugâ€¦ ğŸ˜”",
          "Look at this faceâ€¦ how can you deny a hug? ğŸ¥¹",
          "I need your warmthâ€¦ ğŸ’”",
          "This is hug deprivationâ€¦ ğŸ˜µâ€ğŸ’«",
          "One little hug won't hurtâ€¦ right? ğŸ‘‰ğŸ‘ˆ",
          "I'll remember this hug-less day foreverâ€¦ ğŸ˜¢",
          "You're really going to leave me un-hugged? ğŸ˜­",
          "My last hope for warmthâ€¦ goneâ€¦ ğŸ’”",
          "I'm not crying for a hug, you're crying ğŸ˜­",
          "Hug me and I'll stop being dramatic (maybe) ğŸ˜Œ",
          "This is my cold and lonely origin storyâ€¦ ğŸ˜ˆğŸ’”",
          "Even the hug emoji is sad nowâ€¦ ğŸ¤—ğŸ˜¢",
          "I trusted you for hugsâ€¦ ğŸ˜”",
          "Fineâ€¦ I'll just sit here and freezeâ€¦ ğŸ˜­ğŸ¥¶"
        ];
        
        var questionDiv = document.getElementById("valentineQuestion");
        var currentIndex = questions.indexOf(questionDiv.textContent);
        
        if (currentIndex < questions.length - 1) {
          questionDiv.textContent = questions[currentIndex + 1];
        } else if (currentIndex === -1) {
          questionDiv.textContent = questions[0];
        }
      });
    </script>
  </body>
</html>