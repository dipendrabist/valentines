<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="https://raw.githubusercontent.com/sojijr/valentine-website/main/public/images/favicon.png">
    <link rel="icon" href="./images/favicon.png" type="image/x-icon" />  
    <title id="pageTitle">Happy Valentine's Week ğŸ’•</title>
    <link rel="stylesheet" href="./style.css">
  </head>
  <body>
    <canvas id="starfield"></canvas>
    
    <div id="canvasBlur"></div>
    
    <!-- Music Control -->
    <div id="musicControl">
      <button id="musicToggle">ğŸ”Š</button>
    </div>
    
    <!-- Audio element for background music -->
    <audio id="bgMusic" loop>
      <source src="https://cdn.pixabay.com/audio/2022/05/13/audio_1db50838c5.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Date Display -->
    <div id="dateDisplay"></div>
    
    <div id="valentineContainer">
      <div id="promiseRing">ğŸ’•</div>
      <div id="valentineQuestion">Loading...</div>
      <div id="buttonContainer">
        <button class="answerButton" id="yesButton">Yes! ğŸ’•</button>
        <button class="answerButton" id="noButton">No... ğŸ˜¢</button>
      </div>
      <img id="pleadingImage" src="" alt="Please say yes" />
    </div>

    <div id="thankYouContainer">
      <div id="promiseSymbol">
        <div class="infinity">ğŸ’•</div>
        <div class="heart-overlay">âœ¨</div>
      </div>
      <div id="thankYouMessage">
        <span id="mainThankYou">Thank you, Mero Maya! ğŸ¥¹ğŸ’•</span><br>
        <span id="subMessage">You just made my heart overflow with joy!</span>
      </div>
      <div id="promiseText">
        <p class="promise-line">Promise line 1</p>
        <p class="promise-line">Promise line 2</p>
        <p class="promise-line">Promise line 3</p>
        <p class="promise-line">Promise line 4</p>
      </div>
    </div>

    <!-- Budu Character at Bottom -->
    <div id="buduContainer">
      <img src="./images/bidu.png" alt="Budu" id="buduCharacter">
    </div>

    <script src="script.js"></script>
    
    <script>
      // Determine which day it is and set content accordingly
      var today = new Date();
      var month = today.getMonth(); // 0-11 (January is 0, February is 1)
      var day = today.getDate();
      
      var currentEvent = 'valentine'; // default
      
      // Check if it's February (month === 1)
      if (month === 1) { // February
        if (day === 12) {
          currentEvent = 'hug';
        } else if (day === 13) {
          currentEvent = 'kiss';
        } else if (day === 14) {
          currentEvent = 'valentine';
        }
      }
      console.log(day);
      
      // Store event type for other scripts to access
      window.currentEvent = currentEvent;
      
      // Content configurations
      var content = {
        hug: {
          title: 'Happy Hug Day ğŸ¤—',
          emoji: 'ğŸ¤—',
          question: 'Can I give you a warm hug? ğŸ«‚',
          yesButton: 'Yes, Hug Me! ğŸ¤—ğŸ’•',
          noButton: 'No hugs... ğŸ˜¢',
          dateDisplay: 'ğŸ’• Hug Day - February 12th ğŸ’•',
          infinitySymbol: 'ğŸ¤—',
          heartOverlay: 'ğŸ’•',
          mainThankYou: '*The warmest hug for you, Mero Maya!* ğŸ¥¹ğŸ«‚',
          subMessage: 'You just filled my heart with so much warmth!',
          promises: [
            'In your arms, I find my home ğŸ ğŸ’•',
            'Your hugs heal every wound in my heart ğŸ’–',
            'No distance can keep me from hugging you ğŸŒğŸ¤—',
            'Forever wrapped in your love and warmth ğŸ«‚âœ¨'
          ],
          pleadingQuestions: [
            "Are you sure? Just one hug? ğŸ¥º",
            "Pretty please? I really need a hug ğŸ¥ºğŸ’•",
            "I'll be so sad without your hug... ğŸ˜­",
            "Just one tiny hug? ğŸ«‚",
            "My arms feel so empty... ğŸ’”ğŸ˜¢"
          ],
          images: [
            "https://media1.tenor.com/m/2BrMVhEIsgIAAAAC/mocha-bear-kiss-bear-kiss.gif",
            "https://media.tenor.com/LBEh1g_3QbUAAAAi/please-pretty-please.gif",
            "https://media.tenor.com/FZclYdjw3m4AAAAi/bubu-dudu-sseeyall.gif",
            "https://media1.tenor.com/m/9fscv__vkukAAAAC/dudu-bubu-dubu-bubu-love.gif",
            "https://media1.tenor.com/m/lV1EF4I83MkAAAAC/bubu-dudu-twitter.gif"
          ]
        },
        kiss: {
          title: 'Happy Kiss Day ğŸ’‹',
          emoji: 'ğŸ’‹',
          question: 'May I steal a sweet kiss from you? ğŸ˜˜ğŸ’•',
          yesButton: 'Yes, Kiss Me! ğŸ’‹âœ¨',
          noButton: 'Maybe later... ğŸ˜³',
          dateDisplay: 'ğŸ’‹ Kiss Day - February 13th ğŸ’‹',
          infinitySymbol: 'ğŸ’‹',
          heartOverlay: 'ğŸ’•',
          mainThankYou: '*The sweetest kiss for my sweetest love!* ğŸ˜˜ğŸ’•',
          subMessage: 'That kiss just made my heart skip a beat!',
          promises: [
            'Your lips are my favorite place to be ğŸ’‹ğŸ’•',
            'Every kiss writes a new love story ğŸ“–ğŸ’–',
            'In your kiss, I find paradise ğŸŒ¹âœ¨',
            'Forever kissing you goodnight and good morning ğŸ’‹ğŸŒ™â˜€ï¸'
          ],
          pleadingQuestions: [
            "Just one little kiss? ğŸ¥ºğŸ’‹",
            "Please? Your lips look so kissable ğŸ˜˜",
            "I promise to be gentle... ğŸ‘‰ğŸ‘ˆ",
            "A kiss would make my day perfect ğŸ’•",
            "My lips are lonely without yours... ğŸ˜¢"
          ],
          images: [
            "https://media1.tenor.com/m/z0BGYS7UF0QAAAAC/tkthao219-bubududu.gif",
            "https://media1.tenor.com/m/mGVF72-UxjwAAAAC/tkthao219-bubududu.gif",
            "https://media.tenor.com/LBEh1g_3QbUAAAAi/please-pretty-please.gif",
            "https://media1.tenor.com/m/s0ygwznGUsMAAAAC/tkthao219-bubududu.gif",
            "https://media.tenor.com/ubjtdkQTtGUAAAAi/crying-twitter.gif"
          ]
        },
        valentine: {
          title: 'Happy Valentine\'s Day ğŸ’–',
          emoji: 'ğŸ’–',
          question: 'Will you be mine this Valentine\'s Day? ğŸ’•',
          yesButton: 'Yes, Forever! ğŸ’–âœ¨',
          noButton: 'Not today... ğŸ’”',
          dateDisplay: "ğŸ’ Valentine's Day - February 14th ğŸ’",
          infinitySymbol: 'ğŸ’',
          heartOverlay: 'ğŸ’•',
          mainThankYou: '*You\'ve made me the happiest person alive!* ğŸ¥¹ğŸ’–',
          subMessage: 'My heart is overflowing with love for you!',
          promises: [
            'You are my forever and always ğŸ’•',
            'Every moment with you is a treasure ğŸ’',
            'Together, we\'ll write our beautiful story ğŸ“–ğŸ’–',
            'My heart beats only for you, Mero Maya ğŸ’“'
          ],
          pleadingQuestions: [
            "Please be my Valentine? ğŸ¥ºğŸ’–",
            "I promise to love you forever... ğŸ’•",
            "You're my one and only... ğŸ‘‰ğŸ‘ˆ",
            "My heart belongs to you... ğŸ’”",
            "Without you, there's no Valentine's Day... ğŸ˜¢"
          ],
          images: [
            "https://media1.tenor.com/m/9fscv__vkukAAAAC/dudu-bubu-dubu-bubu-love.gif",
            "https://media1.tenor.com/m/2BrMVhEIsgIAAAAC/mocha-bear-kiss-bear-kiss.gif",
            "https://media.tenor.com/LBEh1g_3QbUAAAAi/please-pretty-please.gif",
            "https://media1.tenor.com/m/lV1EF4I83MkAAAAC/bubu-dudu-twitter.gif",
            "https://media.tenor.com/FZclYdjw3m4AAAAi/bubu-dudu-sseeyall.gif"
          ]
        }
      };
      
      var selectedContent = content[currentEvent];
      
      // Set page content
      document.getElementById('pageTitle').textContent = selectedContent.title;
      document.getElementById('promiseRing').textContent = selectedContent.emoji;
      document.getElementById('valentineQuestion').textContent = selectedContent.question;
      document.getElementById('yesButton').innerHTML = selectedContent.yesButton;
      document.getElementById('noButton').innerHTML = selectedContent.noButton;
      document.getElementById('mainThankYou').innerHTML = selectedContent.mainThankYou;
      document.getElementById('subMessage').textContent = selectedContent.subMessage;
      document.getElementById('dateDisplay').textContent = selectedContent.dateDisplay;
      document.querySelector('.infinity').textContent = selectedContent.infinitySymbol;
      document.querySelector('.heart-overlay').textContent = selectedContent.heartOverlay;
      
      // Set promises
      var promiseLines = document.querySelectorAll('.promise-line');
      selectedContent.promises.forEach(function(promise, index) {
        if (promiseLines[index]) {
          promiseLines[index].textContent = promise;
        }
      });
      
      // Music control
      var music = document.getElementById("bgMusic");
      var musicToggle = document.getElementById("musicToggle");
      var isMusicPlaying = false;
      
      document.addEventListener('click', function initMusic() {
        if (!isMusicPlaying) {
          music.play().then(function() {
            isMusicPlaying = true;
            musicToggle.textContent = "ğŸ”Š";
          }).catch(function(e) { 
            console.log("Audio playback failed:", e);
          });
        }
        document.removeEventListener('click', initMusic);
      }, { once: true });
      
      musicToggle.addEventListener("click", function(e) {
        e.stopPropagation();
        if (isMusicPlaying) {
          music.pause();
          musicToggle.textContent = "ğŸ”‡";
          isMusicPlaying = false;
        } else {
          music.play();
          musicToggle.textContent = "ğŸ”Š";
          isMusicPlaying = true;
        }
      });
      
      var currentImages = selectedContent.images;
      var currentImageIndex = 0;
      
      // Yes button - shows thank you with promise animation
      document.getElementById("yesButton").addEventListener("click", function() {
        document.getElementById("noButton").disabled = true;
        document.getElementById("valentineContainer").style.display = "none";
        var thankYouContainer = document.getElementById("thankYouContainer");
        thankYouContainer.style.display = "block";
        setTimeout(function() {
          document.querySelector(".infinity").classList.add("spinning");
          document.querySelector(".heart-overlay").classList.add("beating");
        }, 100);
        
        // Create floating hearts
        createFloatingHearts();
      });

      // No button - makes Yes button bigger and shows pleading images
      document.getElementById("noButton").addEventListener("click", function() {
        var yesButton = document.getElementById("yesButton");
        var currentFontSize = parseInt(window.getComputedStyle(yesButton).fontSize);
        yesButton.style.fontSize = currentFontSize + 10 + "px";
        
        var pleadingImage = document.getElementById("pleadingImage");
        pleadingImage.src = currentImages[currentImageIndex];
        pleadingImage.style.display = "block";
        pleadingImage.classList.add("fadeIn");
        currentImageIndex = (currentImageIndex + 1) % currentImages.length;
        
        var questions = selectedContent.pleadingQuestions;
        var questionDiv = document.getElementById("valentineQuestion");
        var currentIndex = questions.indexOf(questionDiv.textContent);
        
        if (currentIndex < questions.length - 1) {
          questionDiv.textContent = questions[currentIndex + 1];
        } else if (currentIndex === -1) {
          questionDiv.textContent = questions[0];
        }
      });
      
      // Create floating hearts effect
      function createFloatingHearts() {
        setInterval(function() {
          var heart = document.createElement('div');
          heart.className = 'floating-heart';
          var emojis = ['ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'ğŸ’', selectedContent.emoji];
          heart.textContent = emojis[Math.floor(Math.random() * emojis.length)];
          heart.style.left = Math.random() * 100 + '%';
          heart.style.animationDuration = (Math.random() * 3 + 3) + 's';
          heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
          document.body.appendChild(heart);
          
          setTimeout(function() {
            heart.remove();
          }, 6000);
        }, 300);
      }
    </script>
  </body>
</html>